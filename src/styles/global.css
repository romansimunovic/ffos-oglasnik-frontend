/* ==================================================
   global.css - refaktoriran za dosljedan dark mode
   
   ================================================== */

/* ----------  VARIJABLE (svijetla tema) ---------- */
:root{
  --primary: #c94044;            /* FFOS red (glavna akcija) */
  --primary-strong: #9d1e1e;     /* tamniji za hover/active */
  --bg: #f7f7f7;                 /* glavni pozadinski (svijetli) */
  --surface: #ffffff;            /* kartice/paneli (svijetli) */
  --muted: #777d85;              /* slabije istaknuti tekst */
  --text: #1b1d20;               /* glavni tekst (svijetli) */
  --border: rgba(0,0,0,0.06);    /* lagani border */
  --card-shadow: 0 4px 12px rgba(0,0,0,0.06);

  /* specijalne boje */
  --danger: #e11d28;
  --success: #10b981;
  --accent: #ffd350;

  /* accessibility / fab */
  --fab-bg: #b41f24;
  --fab-hover: #a11c20;

  /* defaults for contrast text on color backgrounds */
  --on-primary: #ffffff;
  --on-surface: var(--text);
}

/* ----------  DARK THEME OVERRIDE ---------- */
/* Toggling class on <body> (tvoj AccessibilityProvider dodaje/uklanja .dark) */
body.dark{
  --primary: #c94044;               /* zadržimo brand boju, ali možeš je promijeniti */
  --primary-strong: #8f191f;
  --bg: #0f1115;                    /* tamna pozadina (dovoljno tamna za contrast) */
  --surface: #161821;               /* kartice/paneli u tamnoj varijanti */
  --muted: #aeb6be;                 /* svjetliji muted tekst u tamnom modu */
  --text: #eef1f5;                  /* glavni tekst u tamnom modu */
  --border: rgba(255,255,255,0.06);
  --card-shadow: 0 6px 20px rgba(0,0,0,0.45);

  --danger: #ef4444;
  --success: #059669;
  --accent: #ffd350;

  --fab-bg: var(--primary);
  --fab-hover: #8f191f;

  --on-primary: #fff;
  --on-surface: #eef1f5;
}

/* ===========================================
   BASE / LAYOUT
   =========================================== */
* { box-sizing: border-box; margin: 0; padding: 0; }
html { scrollbar-gutter: stable; }
body {
  background: var(--bg);
  color: var(--text);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
               Ubuntu, Cantarell, "Helvetica Neue", Arial, sans-serif;
  line-height: 1.6;
  transition: background 0.25s ease, color 0.25s ease;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-y: auto;
}

#root { min-height: 100vh; display: flex; flex-direction: column; }

/* CONTAINER & PAGE BG */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}
@media (max-width:900px){ .container{ max-width:100vw; padding:1rem; } }
@media (max-width:600px){ .container{ padding:.6rem; } }

.page-bg {
  min-height: calc(100vh - 120px);
  background: transparent; /* koristi body varijablu */
  transition: background 0.25s ease;
}
.fullscreen-bg {
  min-height: calc(100vh - 90px);
  width: 100vw;
}

/* TYPOGRAPHY */
h1,h2,h3 {
  color: var(--primary);
  font-weight: 700;
  margin: 1rem 0;
  text-align: center;
}
body.dark h1, body.dark h2, body.dark h3 { color: var(--on-surface); }

p { color: var(--text); margin-bottom: 1rem; }
a {
  color: var(--primary);
  text-decoration: none;
  transition: color .15s ease;
}
a:hover { color: var(--primary-strong); }

/* Buttons - konsistentno */
button, .form-submit, .main-btn {
  background: var(--primary);
  color: var(--on-primary);
  border-radius: 8px;
  border: none;
  padding: .6em 1em;
  font-weight: 700;
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
  font-size: 1rem;
}
button:hover, .form-submit:hover, .main-btn:hover {
  background: var(--primary-strong);
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.18);
}
button:active, .form-submit:active { transform: translateY(0); }
button:disabled { opacity:.6; cursor:not-allowed; }

/* Danger/Success/Other action buttons (high contrast) */
.approve-btn { background: var(--success); color: #fff; }
.reject-btn, .delete-btn { background: var(--danger); color: #fff; }
.save-btn { background: #821109; color: #fff; }
body.dark .save-btn { background: var(--accent); color: var(--surface); }

/* CARD / SURFACE STYLES */
.card {
  background: var(--surface);
  color: var(--on-surface);
  border-radius: 14px;
  border: 1px solid var(--border);
  box-shadow: var(--card-shadow);
  margin: 1rem 0;
  padding: 1.2rem 1.4rem;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  position: relative;
  overflow: hidden;
}
.card::before{
  content:"";
  position:absolute; top:0; left:-100%; width:100%; height:100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.04), transparent);
  transition:left .5s ease; pointer-events:none;
}
.card:hover::before{ left:100%; }
.card:hover{
  transform: translateY(-6px);
  box-shadow: 0 12px 28px rgba(0,0,0,0.28);
  border-color: rgba(0,0,0,0.04);
}
.card-static { cursor: default; }
.card-static::before{ display:none; }
.card-desc { color: var(--on-surface); font-size:.97rem; line-height:1.5; }
.card-date { color: var(--muted); font-size:.88rem; margin-top:1rem; font-weight:500; }

/* META / SMALL TEXT */
.meta-info{ display:flex; flex-wrap:wrap; gap:.4rem 1rem; margin-top:.8rem; font-size:.85rem; color:var(--muted); }
.meta-info i{ font-style:italic; color:var(--primary); }

/* GRID */
.card-grid{ display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:1.5rem; }
@media (max-width:1024px){ .card-grid{ grid-template-columns:repeat(2, minmax(0,1fr)); } }
@media (max-width:640px){ .card-grid{ grid-template-columns:1fr; } }

/* FORMS */
input, textarea, select, .form-input, .form-textarea, .form-select {
  width:100%;
  padding:.65em 1em;
  border-radius:8px;
  border:1.5px solid var(--border);
  background: var(--surface);
  color: var(--on-surface);
  font-size:1.05rem;
  font-family: inherit;
  outline: none;
  margin-bottom:1.05rem;
  transition: border .16s ease, box-shadow .16s ease, background .16s ease;
}
input:focus, textarea:focus, select:focus, .form-input:focus, .form-textarea:focus, .form-select:focus{
  border:2px solid var(--primary);
  box-shadow: 0 0 0 4px rgba(201,64,68,0.08);
}

/* LABELS */
.form-label{ font-weight:700; display:block; margin-bottom:.2rem; color:var(--on-surface); }

/* FORM SUBMIT special */
.form-submit{
  width:100%; padding:.8em 0; border-radius:8px; background:var(--primary); color:var(--on-primary); font-size:1.09rem; font-weight:700; border:none; margin-top:.3rem;
}

/* NAVBAR */
.navbar{
  background: var(--primary);
  color: var(--on-primary);
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 100;
  box-shadow: 0 6px 20px rgba(0,0,0,0.18);
}
.navbar.MuiAppBar-root{ background-color:var(--primary) !important; color:var(--on-primary) !important; }
.navbar-inner{ position:relative; width:100%; margin:0; padding:.6rem 1.6rem; display:flex; align-items:center; }
.navbar-links{ display:flex; gap:3.2rem; }
.navbar-link{ background:transparent !important; color: rgba(255,229,233,0.95) !important; text-transform:none !important; font-weight:600 !important; font-size:.98rem !important; padding:4px 0 !important; border:none !important; position:relative; }
.navbar-link::after{ content:""; position:absolute; left:0; bottom:-6px; width:0; height:2px; background: rgba(255,255,255,0.95); border-radius:999px; transition: width .18s ease; }
.navbar-link:hover::after{ width:100%; }
.navbar-link-active{ color: #fff !important; font-weight:700 !important; }
.navbar-link-active::after{ width:100%; }

/* AVATAR / LOGOUT */
.navbar-avatar{ width:36px !important; height:36px !important; background: var(--surface) !important; color: var(--primary) !important; border:2px solid rgba(255,255,255,0.55); }
.navbar-logout{ background: rgba(255,255,255,0.06) !important; color: #fff !important; border-radius:999px !important; padding:6px 18px !important; font-weight:700 !important; border:1px solid rgba(255,255,255,0.25) !important; }

/* MOBILE tweaks */
@media (max-width:900px){ .navbar-inner{ padding:.5rem 1rem; } .navbar-links{ display:none; } }

/* MODALS */
.modal-overlay{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background: rgba(15,16,20,0.45); z-index:900; }
.modal-card{
  background: var(--surface);
  color: var(--on-surface);
  border-radius:14px;
  max-width:480px;
  width:100%;
  padding:2rem 1.5rem 1.2rem;
  box-shadow: 0 10px 40px rgba(0,0,0,0.18);
  border:2px solid rgba(0,0,0,0.04);
  text-align:center;
}
.modal-title{ color:var(--primary); font-size:1.25rem; margin-bottom:1rem; font-weight:700; }
.modal-close{ position:absolute; top:1rem; right:1.2rem; background:none; border:none; color:var(--muted); font-size:1.6rem; cursor:pointer; }
.modal-close:hover{ color:var(--primary); }

/* SETTINGS */
.settings-btn{ font-weight:700; border-radius:8px; padding:8px 10px; background:var(--surface); color:var(--primary); border:2px solid var(--primary); margin-right:9px; cursor:pointer; }
.settings-btn:hover{ background: #fff2f2; color: var(--primary-strong); transform:translateY(-1px); }

/* ACCESSIBILITY FAB & PANEL */
.access-fab{
  position: fixed; bottom: 24px; right: 28px;
  background: var(--fab-bg);
  color: var(--on-primary);
  border: none; border-radius: 50%;
  padding: 15px; box-shadow: 0 6px 16px rgba(0,0,0,0.22);
  z-index:1000; cursor:pointer; transition: all .12s ease; font-size:1.4rem;
}
.access-fab:hover{ background: var(--fab-hover); transform: scale(1.06); box-shadow: 0 10px 30px rgba(0,0,0,0.28); }

/* access panel */
.access-panel{
  position: fixed; bottom: 90px; right: 28px;
  background: var(--surface); color: var(--on-surface);
  border-radius: 15px; box-shadow: 0 12px 36px rgba(0,0,0,0.25);
  padding: 22px 18px; min-width: 300px; z-index:1001; border:1px solid var(--border);
}
.access-title{ font-size:1.1rem; margin-bottom:14px; color:var(--primary); font-weight:700; text-align:center; }
.access-option{
  width:100%; display:flex; gap:11px; align-items:center; font-weight:700; font-size:.95rem;
  padding:8px 12px; margin-bottom:8px; background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(0,0,0,0.01));
  border-radius:9px; border:1.5px solid rgba(0,0,0,0.04); color:var(--primary);
}
.access-option svg{ flex-shrink:0; }
.access-option:hover{ transform: translateX(3px); box-shadow: 0 8px 20px rgba(0,0,0,0.12); }

/* in dark mode override for access-option */
body.dark .access-option{ background: #26283b; color: var(--on-surface); border:1.5px solid rgba(255,255,255,0.06); }
body.dark .access-option:hover{ background:#3a3c53; color: var(--on-surface); }

/* ACCESS PANEL CLOSE / ICONS */
.close-btn{ position:absolute; top:7px; right:9px; background:none; border:none; color:var(--primary); font-size:1.6rem; cursor:pointer; }
.close-btn:hover{ color: var(--primary-strong); }

/* CALENDAR */
.calendar-wrapper{ background: transparent; color: var(--on-surface); border-radius:14px; padding:2rem; }
.calendar-grid{ display:grid; grid-template-columns:repeat(7,1fr); gap:8px; margin-top:1.5rem; }
.calendar-day{ padding:14px 8px; border:2px solid var(--border); border-radius:10px; cursor:pointer; text-align:center; transition: all .18s ease; min-height:70px; background: var(--surface); color: var(--on-surface); display:flex; flex-direction:column; align-items:center; justify-content:space-between; }
.calendar-day:hover{ border-color:var(--primary); transform: translateY(-4px); box-shadow: 0 8px 20px rgba(0,0,0,0.12); }
.calendar-day.selected{ border:2px solid var(--primary); box-shadow:0 0 0 4px rgba(201,64,68,0.08); background: rgba(201,64,68,0.03); font-weight:700; }
.calendar-day.today{ background: rgba(33,128,141,0.06); border-color:#21808d; }

.calendar-day-number{ font-size:1.2rem; font-weight:600; color:var(--on-surface); }
.calendar-day-count{ font-size:.8rem; color:var(--primary); font-weight:700; margin-top:3px; }

/* SKELETONS */
.skeleton{ background: linear-gradient(90deg,#f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size:200% 100%; animation:loading 1.5s infinite; border-radius:4px; }
body.dark .skeleton{ background: linear-gradient(90deg,#23262b 25%, #2f3136 50%, #23262b 75%); }

/* FOOTER */
.footer{ background: var(--primary); color: var(--on-primary); padding:.8rem 0 1rem; text-align:center; font-size:1rem; }
body.dark .footer{ background: var(--surface); color: var(--on-surface); border-top:1px solid var(--border); }

/* BADGES */
.badge-nova, .badge-new{ display:inline-flex; align-items:center; justify-content:center; background:var(--success); color:#fff; border-radius:999px; padding:2px 8px; font-size:.7rem; font-weight:700; text-transform:uppercase; letter-spacing:.5px; position:absolute; top:-8px; right:-8px; min-width:30px; height:24px; box-shadow: 0 2px 6px rgba(16,185,129,0.25); }
.badge-urgent, .badge-hitno{ background:var(--danger); color:#fff; box-shadow:0 2px 6px rgba(239,68,68,0.25); position:absolute; top:-8px; right:28px; }

/* FILTERS & UTILITY */
.objava-controls{ display:flex; flex-wrap:wrap; gap:12px; align-items:center; margin-bottom:2.5rem; }
.filter-btn{ padding:.6em 1.3em; border-radius:7px; background: rgba(0,0,0,0.04); color:var(--on-surface); border:1.5px solid var(--primary); font-weight:700; cursor:pointer; }
.filter-btn.active, .filter-btn:hover{ background:var(--primary); color:var(--on-primary); transform:translateY(-2px); box-shadow: 0 6px 18px rgba(0,0,0,0.12); }

/* BETTER FILTERS (panel) */
.better-filters{
  display:flex; justify-content:flex-start; align-items:flex-end; gap:10px;
  background: var(--surface); padding:10px 28px; border-radius:6px; margin-bottom:1.7rem; box-shadow: 0 4px 18px rgba(0,0,0,0.06); border:1px solid var(--border);
}

/* MUI OVERRIDES (use variables where possible) */
.MuiSelect-select { color: var(--on-surface) !important; }
.MuiOutlinedInput-notchedOutline { border-color: var(--border) !important; }
.MuiSelect-icon { color: var(--on-surface) !important; }
body.dark .MuiInputBase-root, body.dark .MuiOutlinedInput-root { background: var(--surface) !important; color: var(--on-surface) !important; }
body.dark .MuiOutlinedInput-notchedOutline { border-color: rgba(255,255,255,0.06) !important; }
body.dark .MuiPaper-root, body.dark .MuiMenu-paper { background: var(--surface) !important; color: var(--on-surface) !important; border:1px solid var(--border) !important; }
body.dark .MuiMenuItem-root.Mui-selected { background: var(--primary) !important; color: var(--on-primary) !important; }

/* PROFILE (avatars) */
.profile-avatar{ width:140px; height:140px; border-radius:50%; object-fit:cover; border:3px solid rgba(0,0,0,0.06); box-shadow: 0 6px 18px rgba(0,0,0,0.08); transition: transform .18s ease; }
body.dark .profile-avatar{ border:3px solid rgba(255,255,255,0.06); }

/* RESPONSIVE tweaks */
@media (max-width:768px){
  .container{ padding:1.2rem; }
  h1{ font-size:1.8rem; } h2{ font-size:1.4rem; }
  .card-grid{ grid-template-columns: repeat(2, 1fr); }
  .calendar-grid{ gap:4px; }
}
@media (max-width:480px){
  .container{ padding:.6rem; } h1{ font-size:1.5rem; }
  .card-grid{ grid-template-columns:1fr; } .card{ padding:.8rem; }
  .profile-avatar{ width:110px; height:110px; }
  .access-panel{ min-width:250px; padding:16px 12px; }
}

/* ACCESSIBILITY (focus) */
:focus-visible { outline: 3px solid rgba(201,64,68,0.28); outline-offset:2px; }

/* REDUCED MOTION */
@media (prefers-reduced-motion: reduce){
  * { animation-duration: 0.01ms !important; animation-iteration-count:1 !important; transition-duration: 0.01ms !important; }
}

/* UTILITY CLASSES */
.font-bold { font-weight: 700; }
.text-center { text-align:center; }
.mt-4{ margin-top:1rem; } .mb-8{ margin-bottom:2rem; }
.gap-4{ gap:1rem; } .flex{ display:flex; } .flex-col{ flex-direction:column; }
.items-center{ align-items:center; } .justify-center{ justify-content:center; }

/* KEYFRAMES */
@keyframes loading{
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
